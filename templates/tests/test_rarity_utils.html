<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test RarityUtils</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .rarity-test {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .rarity-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }
        .rarity-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .success {
            color: #00b894;
            font-weight: bold;
        }
        .error {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Test RarityUtils</h1>
    
    <div class="test-section">
        <h2>Test des fonctions getRarityIcon et getRarityColor</h2>
        <div id="test-results"></div>
    </div>

    <script type="module">
        import { getRarityIcon, getRarityColor, getRarityDisplayName } from '../js/modules/RarityUtils.js';

        const testResults = document.getElementById('test-results');
        
        // Donn√©es de test
        const testRarities = [
            { name: 'common', expectedIcon: '‚ö™', expectedColor: '#666666', expectedDisplay: 'Normale' },
            { name: 'uncommon', expectedIcon: 'üü¢', expectedColor: '#00b894', expectedDisplay: 'Commune' },
            { name: 'rare', expectedIcon: 'üîµ', expectedColor: '#74b9ff', expectedDisplay: 'Rare' },
            { name: 'epic', expectedIcon: 'üü£', expectedColor: '#a29bfe', expectedDisplay: '√âpique' },
            { name: 'legendary', expectedIcon: 'üü°', expectedColor: '#fdcb6e', expectedDisplay: 'L√©gendaire' },
            { name: 'invalid', expectedIcon: '‚ö™', expectedColor: '#666666', expectedDisplay: 'Normale' } // Test avec raret√© invalide
        ];

        let allTestsPassed = true;

        testRarities.forEach(test => {
            const actualIcon = getRarityIcon(test.name);
            const actualColor = getRarityColor(test.name);
            const actualDisplay = getRarityDisplayName(test.name);
            
            const iconPassed = actualIcon === test.expectedIcon;
            const colorPassed = actualColor === test.expectedColor;
            const displayPassed = actualDisplay === test.expectedDisplay;
            
            if (!iconPassed || !colorPassed || !displayPassed) {
                allTestsPassed = false;
            }

            const testDiv = document.createElement('div');
            testDiv.className = 'rarity-test';
            
            testDiv.innerHTML = `
                <div class="rarity-icon">${actualIcon}</div>
                <div class="rarity-color" style="background-color: ${actualColor}"></div>
                <div>
                    <strong>Raret√©:</strong> ${test.name}<br>
                    <span class="${iconPassed ? 'success' : 'error'}">
                        Ic√¥ne: ${actualIcon} ${iconPassed ? '‚úì' : '‚úó (attendu: ' + test.expectedIcon + ')'}
                    </span><br>
                    <span class="${colorPassed ? 'success' : 'error'}">
                        Couleur: ${actualColor} ${colorPassed ? '‚úì' : '‚úó (attendu: ' + test.expectedColor + ')'}
                    </span><br>
                    <span class="${displayPassed ? 'success' : 'error'}">
                        Affichage: ${actualDisplay} ${displayPassed ? '‚úì' : '‚úó (attendu: ' + test.expectedDisplay + ')'}
                    </span>
                </div>
            `;
            
            testResults.appendChild(testDiv);
        });

        // R√©sum√© final
        const summaryDiv = document.createElement('div');
        summaryDiv.style.marginTop = '20px';
        summaryDiv.style.padding = '15px';
        summaryDiv.style.borderRadius = '4px';
        summaryDiv.style.fontWeight = 'bold';
        summaryDiv.style.textAlign = 'center';
        
        if (allTestsPassed) {
            summaryDiv.style.backgroundColor = '#d4edda';
            summaryDiv.style.color = '#155724';
            summaryDiv.style.border = '1px solid #c3e6cb';
            summaryDiv.textContent = '‚úÖ Tous les tests sont pass√©s ! RarityUtils fonctionne correctement.';
        } else {
            summaryDiv.style.backgroundColor = '#f8d7da';
            summaryDiv.style.color = '#721c24';
            summaryDiv.style.border = '1px solid #f5c6cb';
            summaryDiv.textContent = '‚ùå Certains tests ont √©chou√©. V√©rifiez les erreurs ci-dessus.';
        }
        
        testResults.appendChild(summaryDiv);

        console.log('Test RarityUtils termin√©. Tous les tests pass√©s:', allTestsPassed);
    </script>
</body>
</html> 